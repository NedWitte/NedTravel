---
title: "My personal portfolio"
author: "JNW"
description: "stuff"
date: "2023-08-08"
image: sp500.png
---

**The KarambolageNed dividends**

# Introduction

This site gives a brief overview about my \*\*dividend income\* and should be updated automatically via scripting.

```{r}
#| echo: false
#| output: false
#| include: false

#install.packages("googlesheets4")
library(dplyr)
library(tidyquant)
library(quantmod)
library(ggplot2)
library(tidyverse)
library(tidyquant)
library(plotly)
library(googlesheets4)

```

```{r}
#| echo: false
#| output: false
#| include: false


#read google sheet
#df_google_sheets <- read_sheet("https://docs.google.com/spreadsheets/d/1Y9e1DGEYMJiGK50peNeANzt3d03J5ow__ETGrJd8elU/edit?usp=drivesdk")

#get data from the Google sheets 
#string dividends
div_string <- c("JNJ", "MSFT", "O")

nDiv <- length(div_string)

#create template for the whole year with monthly dividend stock Realty income 
df_dividend_master = getDividends("O",from="2017-01-01", auto.assign=FALSE) 
df_dividend_master <- as.data.frame(df_dividend_master)
df_dividend_master$year <-  lubridate::year(rownames(df_dividend_master))
df_dividend_master$month <- lubridate::month(rownames(df_dividend_master))
df_dividend_master <- df_dividend_master %>% select(year, month)
df_dividend_master <- df_dividend_master %>% filter(!duplicated(cbind(year,month)))

for (i in 1:nDiv) {
  #loop and define x
  x1 <- getDividends(div_string[i], from="2017-01-01", auto.assign=FALSE)
  x1 <- as.data.frame(x1)
  x1$year <-  lubridate::year(rownames(x1))
  x1$month <- lubridate::month(rownames(x1))
  
  #combine with left_join
  df_dividend_master <- left_join(df_dividend_master, x1)
}

df_dividend_master$year_month <- sprintf("%d-%02d", df_dividend_master$year, df_dividend_master$month)
df_dividend_master <- df_dividend_master %>% filter(!duplicated(cbind(year_month)))



```

This is the dividend growth of the number 1 stock: JNJ

```{r}
#| echo: false
#| output: false
#| include: false
#| warning: false
 
fig <- plot_ly(df_dividend_master, x = ~year_month,  y = ~JNJ.div, type = 'bar', name = 'JNJ')
#fig <- fig %>% add_trace(y = ~O.div, name = 'Realty income')
```

```{r}
#| echo: false
#| output: TRUE
#| results: hide
#| warning: false
#| fig-cap: "JNJ dividend growth since 2017"
#| fig-alt: "Plotly plot generated"


#prepare figure to plot
fig


```

```{r}
#| echo: false
#| output: false
#| include: false
#| warning: false
# Display the interactive 3D pie chart

```

## Strategy

The strategy is easy: Safe and sound.

Generally, this portfolio has the purpose to add a signifcant amount of dividend income to the regular job income.

```{r}
#| output: true
# Display the interactive plot

```

## Market Events and Performance

The performance of the S&P 500 is subject to various market events, including economic data releases, corporate earnings reports, geopolitical developments, and central bank decisions. Market fluctuations in the S&P 500 can have a cascading effect on other financial markets and impact investor confidence.

## Long term predictions

For this point, I want to demonstrate two scenarios:

-1. scenario: weak outlook and an average growth of 3% while adding 10k per year

-2. scenario: perfect wealth generation conditions with a growth of 10% while adding 10k per year

Let's take a look at both:

1.  scenario: growth 3% p.a., 10k additional investment from the job income

```{r}
paste0(print("In year 2023 the portfolio has an income of 180k. Today the value is"))
```

2.  scenario: growth 10% p.a. + 10k additional investment from job income

## Long term predictions
